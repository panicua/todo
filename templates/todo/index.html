{% extends '_base.html' %}

{#{% block pagination %}#}
{#  {% include "includes/index_pagination.html" %}#}
{#{% endblock %}#}

{% block content %}
  <h2>Task List
    {% if user.is_authenticated %}
    <a href="{% url 'todo:task-create' %}"
       class="btn btn-primary link-to-page"
       style="margin-left:20px">
      Create Task
    </a>
    {% endif %}
  </h2>


  {#  <h4>Page number: {{ post_list.number }}</h4>#}
  {% if task_list %}
    <ul>
      {% for task in task_list %}
        <li class="purple-table-border purple-table-head"
            style="border-radius: 6px">
          <p><strong>Content: </strong>{{ task.content }}</p>
          <p><strong>Created at: </strong>{{ task.created_at }}</p>
          <p><strong>Changed at: </strong>{{ task.changed_at }}</p>
          <p><strong>Deadline: </strong>{{ task.dead_line_time }}</p>
          <p>
            <strong>Status done: </strong>{{ task.is_done }}
            {% include "includes/task_status_change.html" %}
          </p>
          <p><strong>Tags: </strong>
            {% for tag in task.tags.all %}{{ tag.name }},{% endfor %}
          </p>
          {% if user.is_authenticated %}
            <a href="{% url 'todo:task-delete' pk=task.pk %}"
               class="btn btn-danger link-to-page">
              Delete
            </a>
            <a href="{% url 'todo:task-update' pk=task.pk %}"
               class="btn btn-primary link-to-page">
              Update
            </a>
          {% endif %}
        </li>
        <br>
      {% endfor %}
    </ul>
  {% else %}
    <p>NO TASKS YET.</p>
  {% endif %}
{% endblock %}
